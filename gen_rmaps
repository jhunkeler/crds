#! /usr/bin/env pysh
#-*-python-*-

if "--save" in sys.argv:
    sys.argv.remove("--save")
    save = "--save"
else:
    save = ""

if len(sys.argv) == 1:
    from crds.hst import INSTRUMENTS
else:
    INSTRUMENTS = sys.argv[1:]

def install():
    print "Installing"  
    % ../../install >& /dev/null

install()

for instr in INSTRUMENTS:
    % python gen_rmap.py ${save} ${instr} ../${instr}/sources
    % mv hst_${instr}_*.rmap ../mappings/hst

print "Consider running ../tpn.py to update tpn_filekinds.dat"

install()
